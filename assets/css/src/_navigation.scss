.menu {
	margin: 0;
	padding: 0;
}

#site-navigation {

	.menu-toggle {
		background: none;
		border: 0;
		color: $body;
		cursor: pointer;
		padding: 0;

		@media all and (min-width: 992px) {
			display: none;
		}
	}

	.close-menu {
		display: none;
	}

	// Persistent menu styles
	#primary-menu {
		list-style-type: none;
		margin: 0;
		padding: 0;

		.menu-item {
			margin-bottom: 0;

			a {
				color: $body;
				font-size: 16px;
				font-weight: 600;
				line-height: 1;
				text-decoration: none;

				&:active,
				&:focus,
				&:hover {
					text-decoration: underline;
				}
			}

			&.current-menu-item {

				a {
					text-decoration: underline;

					&:active,
					&:focus,
					&:hover {
						cursor: text;
					}
				}
			}

			.sub-menu {
				list-style-type: none;
				padding-left: 0;
			}
		}

		& > .menu-item {

			&.menu-item-has-children {
				position: relative;

				& > a {

					&:after {
						border-right-color: transparent;
						border-style: solid;
						border-width: 0 6px 6px 0;
						content: '';
						display: inline-block;
						height: 0;
						margin-left: 5px;
						position: absolute;
						top: 10px;
						transform: rotate(-45deg);
						width: 0;
					}
				}

				.sub-menu {

					a {
						display: block;
						padding: 7px 0;

						&:active,
						&:focus,
						&:hover {
						}
					}
				}

				/* Level 1 */
				& > .sub-menu {

					& > .menu-item {

						/* All levels */
						a {
							font-size: 14px;
							line-height: 1.3;
						}

						&.menu-item-has-children {

							/* Level 2 */
							& > .sub-menu {

								& > .menu-item {

									& > a {

										&:before {
											content: "- ";
										}
									}

									&.menu-item-has-children {

										/* Level 3 */
										& > .sub-menu {

											& > .menu-item {

												& > a {

													&:before {
														content: "-- ";
													}
												}

												&.menu-item-has-children {

													/* Level 4 & beyond */
													& .sub-menu {

														& .menu-item {

															a {

																&:before {
																	content: "--- ";
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	// Desktop menu styles
	&:not(.toggled) {

		& > [class*="-container"] {
			display: none;

			@media all and (min-width: 992px) {
				display: block;
			}
		}

		#primary-menu {
			align-items: center;
			display: flex;

			@media all and (min-width: 992px) {
				column-gap: 1.5rem;
				justify-content: flex-end;
			}

			.menu-item {

				&.current-menu-item {

					a {
						color: $body;
					}
				}

				.sub-menu {
					text-align: left;
				}
			}

			& > .menu-item {

				&.menu-item-has-children {

					& > a {
						padding-right: .75rem;
					}

					& > .sub-menu {
						background-color: #fff;
						border: 1px solid $color_gray;
						display: none;
						padding: 7px 1.2rem;
						position: absolute;
						top: 2rem;
						width: 200px;

						& > .menu-item {

							&.menu-item-has-children {

								&:not(:last-child) {
									padding-bottom: 4px;
								}
							}
						}
					}

					&.sub-menu-active {

						& > a {
							color: $body;
							text-decoration: underline;
						}

						.sub-menu {
							display: block;
						}
					}

					&:last-child > a {
						padding-right: calc(0.75rem + 3px);
					}
				}

				&:last-child,
				&:nth-last-child(2) {

					& > .sub-menu {
						right: 0;
					}
				}
			}
		}
	}

	// Mobile menu styles
	&.toggled {
		background-color: $color_gray;
		height: calc( 100vh - 46px );
		padding: 2rem;
		position: absolute;
		right: 0;
		top: 0;
		width: 100%;
		z-index: 999;

		@media all and (min-width: 783px) {
			height: calc( 100vh - 32px );
		}

		.menu-toggle {
			display: none;
		}

		.close-menu {
			display: inline-block;
			font-size: 14px;
			font-weight: 600;
			position: relative;
			text-align: right;
			text-decoration: none;

			&:hover,
			&:focus,
			&:active {
				cursor: pointer;
			}
		}

		#primary-menu {
			background-color: #fff;
			display: flex;
			flex-direction: column;
			justify-content: flex-end;
			margin-bottom: 1.5rem;

			.menu-item {

				a {
					display: block;

					&:active,
					&:focus,
					&:hover {
					}
				}

				&.current-menu-item {

					a {
						color: $body;
					}
				}
			}

			& > .menu-item {
				text-align: left;

				& > a {
					border-bottom: 1px solid $color_gray;
					display: block;
					padding: 1rem;
				}

				&.menu-item-has-children {

					& > a {
						padding-right: .75rem;

						&:after {
							top: 18px;
						}
					}

					& > .sub-menu {
						background-color: #fff;
						border-bottom: 1px solid $color_gray;
						display: none;
						padding: 7px 1rem 7px 0;

						& > .menu-item {

							&.menu-item-has-children {

								&:not(:last-child) {
									padding-bottom: 4px;
								}
							}
						}
					}

					&.sub-menu-active {

						& > a {
							text-decoration: underline;
						}

						.sub-menu {
							display: block;
						}
					}
				}
			}
		}
	}
}

// Persistent post(s) navigation styles
.nav-links {
	display: grid;
	gap: 2rem 4%;
	grid-template-columns: 100%;
	padding: 1rem 0;

	@media all and (min-width: 768px) {
		grid-template-columns: 48% 48%;
	}

	.nav-previous,
	.nav-next {

		a {
			color: $link_subdued;
			font-size: 17px;
			text-decoration: none;
		}

		.nav-subtitle {
			color: $body;
			display: block;
			font-size: 15px;
			font-weight: 700;

			&:active,
			&:focus,
			&:hover {
				color: $body;
			}
		}

		.nav-title {
			text-decoration: underline;

			&:active,
			&:focus,
			&:hover {
				text-decoration: none;
			}
		}
	}

	.nav-previous {

		@media all and (max-width: 767.98px) {
			order: 2;
		}

		& + .nav-next {

			@media all and (min-width: 768px) {
				text-align: right;
			}
		}
	}

	.nav-next {

		@media all and (max-width: 767.98px) {
			order: 1;
		}
	}
}

// Posts navigation (archives)
.posts-navigation {

	.nav-links {

		.nav-previous,
		.nav-next {

			a {
				text-decoration: underline;

				&:active,
				&:focus,
				&:hover {
					text-decoration: none;
				}
			}
		}
	}
}

// Post navigation (single post)
.post-navigation {}

// Adjustments for logged-in users (WP Admin bar)
.logged-in {

	#site-navigation {

		&.toggled {
			top: 46px;

			@media all and (min-width: 783px) {
				top: 32px;
			}
		}
	}
}